# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ #1: –ò–°–ü–†–ê–í–õ–ï–ù–ê —á–∞—Å—Ç–∏—á–Ω–æ

### –ß—Ç–æ –±—ã–ª–æ:
- "1 USD = 1\$1 CAD" - —Å–∏–º–≤–æ–ª `\$` –≤–º–µ—Å—Ç–æ —Ç–æ—á–∫–∏

### –ü—Ä–∏—á–∏–Ω–∞:
- –ú–æ—ë "–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ" `r'\$1'` –≤ amount_formatter.dart —Å–æ–∑–¥–∞–ª–æ –±—É–∫–≤–∞–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É `\$1`
- –í raw —Å—Ç—Ä–æ–∫–µ `r'...'` —Å–∏–º–≤–æ–ª `$` –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ RegExp replacement –ù–ï –Ω—É–∂–Ω–æ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞—Ç—å

### –ß—Ç–æ —è —Å–¥–µ–ª–∞–ª:
‚úÖ –í–µ—Ä–Ω—É–ª –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–¥: `r'$1'` (–±–µ–∑ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ —Å–ª—ç—à–∞)

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- "1 USD = 1.41 CAD" - –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## ‚ùì –ü—Ä–æ–±–ª–µ–º–∞ #2: –ì—Ä–∞—Ñ–∏–∫ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

#### A. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
```
–°–∏–º–ø—Ç–æ–º—ã:
- –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Å–ø–∏–Ω–Ω–µ—Ä
- –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö
```

#### B. API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```
–°–∏–º–ø—Ç–æ–º—ã:
- –û—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ frankfurter.app
- Timeout
```

#### C. Race condition –≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
```
–°–∏–º–ø—Ç–æ–º—ã:
- –ì—Ä–∞—Ñ–∏–∫ –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ë–î
- Deadlock –≤ _ensureInitialized()
```

---

## üîß –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:

### –®–∞–≥ 1: –¢–µ—Å—Ç formatAmount ‚úÖ
–£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ - –≤–µ—Ä–Ω—É–ª –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–¥

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏–∫—É –≤ historical_rates_repository.dart

### –®–∞–≥ 3: –£–ø—Ä–æ—Å—Ç–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
–í–æ–∑–º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä—É—é—â–µ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–æ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏
